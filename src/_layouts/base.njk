<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title | default("Studio | The Arcades") }}</title>
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="alternate" href="{{ site.url }}/feed.xml" type="application/atom+xml" title="{{ site.title }}">
  <link rel="alternate" href="{{ site.url }}/feed.json" type="application/json" title="{{ site.title }}">
  <script>
    // Check for saved theme preference or use the system preference
    const theme = localStorage.getItem('theme') || 'system';
    
    // Function to set the theme
    function setTheme(theme) {
      if (theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    }
    
    // Set initial theme
    setTheme(theme);
    
    // Listen for system preference changes
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
      if (localStorage.getItem('theme') === 'system') {
        setTheme('system');
      }
    });
  </script>
</head>
<body class="bg-light dark:bg-dark min-h-screen">
  <!-- Background elements -->
  <div class="pattern-bg fixed inset-0 z-0"></div>
  
  <!-- Decorative blobs -->
  <div class="fixed top-20 right-[10%] w-64 h-64 bg-arcades-blue opacity-10 dark:opacity-20 rounded-full blur-3xl z-0 animate-float"></div>
  <div class="fixed bottom-20 left-[10%] w-80 h-80 bg-arcades-pink opacity-10 dark:opacity-20 rounded-full blur-3xl z-0 animate-float" style="animation-delay: 2s;"></div>
  
  <header class="bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-b-3 border-accent py-4 sticky top-0 z-50 shadow-soft dark:shadow-dark-soft">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between">
        <h1 class="text-2xl md:text-3xl font-display font-bold text-center md:text-left mb-4 md:mb-0">
          <a href="/" class="inline-block accent-border-bottom pb-1 text-gray-900 dark:text-white hover:text-arcades-blue dark:hover:text-arcades-orange transition-colors">
            <span class="text-arcades-orange dark:text-arcades-orange">Studio</span> | The Arcades
          </a>
        </h1>
        <div class="flex flex-col md:flex-row items-center">
          <nav class="mb-4 md:mb-0 md:mr-4">
            <ul class="flex flex-wrap justify-center md:justify-end gap-3">
              <li>
                <a href="/" class="nav-link inline-block px-4 py-2 rounded-lg text-arcades-blue dark:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 font-medium transition duration-200">
                  Home
                </a>
              </li>
              <li>
                <a href="/projects" class="nav-link inline-block px-4 py-2 rounded-lg text-arcades-purple dark:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 font-medium transition duration-200">
                  Projects
                </a>
              </li>
              <li>
                <a href="/blog" class="nav-link inline-block px-4 py-2 rounded-lg text-arcades-green dark:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30 font-medium transition duration-200">
                  Blog
                </a>
              </li>
              <li>
                <a href="https://www.thearcades.me/previews" target="_blank" rel="noopener noreferrer" class="nav-link inline-flex items-center px-4 py-2 rounded-lg text-arcades-orange dark:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/30 font-medium transition duration-200">
                  Books
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                  </svg>
                </a>
              </li>
              <li>
                <a href="/about" class="nav-link inline-block px-4 py-2 rounded-lg text-arcades-purple dark:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 font-medium transition duration-200">
                  About
                </a>
              </li>
              <li>
                <a href="/contact" class="nav-link inline-block px-4 py-2 rounded-lg text-arcades-pink dark:text-pink-300 hover:bg-pink-50 dark:hover:bg-pink-900/30 font-medium transition duration-200">
                  Contact
                </a>
              </li>
            </ul>
          </nav>
          
          <div class="theme-toggle flex items-center gap-2 bg-gray-100 dark:bg-gray-700 p-2 rounded-lg">
            <button id="theme-light" class="p-2 rounded-lg transition-transform hover:scale-110" aria-label="Light mode">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg>
            </button>
            <button id="theme-dark" class="p-2 rounded-lg transition-transform hover:scale-110" aria-label="Dark mode">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
              </svg>
            </button>
            <button id="theme-system" class="p-2 rounded-lg transition-transform hover:scale-110" aria-label="System preference">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 py-12 relative z-10">
    {{ content | safe }}
  </main>

  <footer class="bg-gray-900 text-white py-12 relative z-10">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-6 md:mb-0">
          <p class="text-xl font-display font-bold mb-2">&copy; {{ page.date.getFullYear() }} The Arcades' Studio</p>
          <div class="flex items-center gap-2 text-gray-400">
            <a href="https://creativecommons.org/licenses/by/4.0/" class="hover:text-white transition-colors group" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-1 group-hover:text-blue-300 transition-colors" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 100 16 8 8 0 000-16zm-1.24 5.79c.43-.59 1.05-.89 1.88-.89.93 0 1.66.32 2.17.96.51.64.77 1.49.77 2.55 0 1.08-.27 1.95-.81 2.6-.53.65-1.27.97-2.23.97-.85 0-1.5-.28-1.96-.83v3.02H9.11V9.98h1.24l.21.81zm5.71.4c-.33-.42-.8-.63-1.41-.63-.76 0-1.28.41-1.53 1.24-.13.42-.2.86-.2 1.33 0 .5.07.96.21 1.38.25.81.76 1.21 1.52 1.21.62 0 1.08-.21 1.39-.64.17-.23.3-.52.38-.85h1.5c-.09.74-.37 1.36-.84 1.87-.59.64-1.35.95-2.3.95-1.01 0-1.81-.32-2.39-.96-.58-.64-.87-1.51-.87-2.61 0-1.12.3-2.01.89-2.65.59-.65 1.38-.97 2.37-.97.81 0 1.49.2 2.03.59.54.39.87.93.99 1.61h-1.74c-.05-.33-.17-.6-.36-.83z"/>
              </svg>
              <span class="group-hover:text-blue-300 transition-colors">Content licensed under CC BY 4.0</span>
            </a>
          </div>
        </div>
        <div class="flex flex-wrap gap-4">
          <a href="/" class="text-gray-400 hover:text-white transition-colors">Home</a>
          <a href="/blog" class="text-gray-400 hover:text-white transition-colors">Blog</a>
          <a href="https://www.thearcades.me/previews" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors inline-flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
            Books
            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
            </svg>
          </a>
          <a href="/about" class="text-gray-400 hover:text-white transition-colors">About</a>
          <a href="/contact" class="text-gray-400 hover:text-white transition-colors">Contact</a>
          <a href="/feed.xml" class="text-gray-400 hover:text-white transition-colors inline-flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 24 24" fill="currentColor">
              <path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/>
            </svg>
            RSS
          </a>
          <a href="/unsubscribe" class="text-gray-400 hover:text-white transition-colors inline-flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            Unsubscribe
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Theme toggle functionality
    document.getElementById('theme-light').addEventListener('click', () => {
      localStorage.setItem('theme', 'light');
      setTheme('light');
      updateActiveThemeButton('light');
    });
    
    document.getElementById('theme-dark').addEventListener('click', () => {
      localStorage.setItem('theme', 'dark');
      setTheme('dark');
      updateActiveThemeButton('dark');
    });
    
    document.getElementById('theme-system').addEventListener('click', () => {
      localStorage.setItem('theme', 'system');
      setTheme('system');
      updateActiveThemeButton('system');
    });
    
    // Update active button styling
    function updateActiveThemeButton(activeTheme) {
      const buttons = {
        light: document.getElementById('theme-light'),
        dark: document.getElementById('theme-dark'),
        system: document.getElementById('theme-system')
      };
      
      // Remove active class from all buttons
      Object.values(buttons).forEach(button => {
        button.classList.remove('bg-white', 'dark:bg-gray-600', 'scale-110');
      });
      
      // Add active class to selected button
      buttons[activeTheme].classList.add('bg-white', 'dark:bg-gray-600', 'scale-110');
    }
    
    // Set initial active button
    updateActiveThemeButton(localStorage.getItem('theme') || 'system');
  </script>
</body>
</html> 